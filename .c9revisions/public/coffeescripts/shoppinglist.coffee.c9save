{"ts":1349098844789,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"class ShoppingList\n    constructor: (btn, field, list) ->\n        $(btn).on \"click\", @create\n        @name = $(field)\n        @list = $(list)\n        $(\"body\").on \"click\", \".shopping-list-item\", @display\n    create: () =>\n        data =\n            listName: @name.val()\n        newList = \"<li class='shopping-list-item-updating'>\" + data.listName\n        newList += \"<input type='hidden' class='shopping-list-val' val='0' / >\"\n        newList += \"</li>\"\n        @list.append(newList)\n        tempList = @list\n        Utility.ajaxOptions.url =\"/createlist\"\n        Utility.ajaxOptions.success = (response) ->\n            if response\n                item = tempList.find('.shopping-list-item-updating')\n                item.find('.shopping-list-val').val(response.listId)\n                item.removeClass('shopping-list-item-updating').addClass('shopping-list-item')\n            return\n        Utility.ajaxOptions.error = () ->\n            return\n        Utility.ajaxOptions.data = JSON.stringify(data)\n        $.ajax(Utility.ajaxOptions)\n    display: () ->\n        item = $(@)\n        listId = item.find('.shopping-list-val').val()\n        listName = item.find('.shopping-list-item').text()\n        $('#displayListName').text(listName)\n        data =\n            listId: listId\n        Utility.ajaxOptions.url =\"/getshoppinglist\"\n        Utility.ajaxOptions.success = (response) ->\n            if response\n                $(\"#displayList\").empty()\n                for item, i in response\n                    itemOut = $(\"<li><h3>\" + item.item.name + \"</h3><div class='item_desc'>\"  +item.item.desc + \"</div></li>\");\n                    if item.link\n                        itemLink = \"<a href='http://\" + item.item.link + \"' target='_BLANK'>Link To Item</a>\"\n                        itemOut.append(itemLink)\n                    itemOut.append(\"<input type='button' class='btnAmazon btn btn-small' value='Search Amazon' />\")\n                    itemOut.append(\"<input type='button' class='btn btn-small bntAddToList' value='Add to Shopping List' />\")\n                    itemOut.append(\"<input type='button' class='btn btn-small btnFindLocal' value='Find Locally' />\")\n                    itemOut.append(\"<input type='button' class='btn btn-small btnMarked' value='Mark as Purchased' />\")\n                    itemOut.append(\"<input type='hidden' class='itemId' value='\" + item._id + \"' />\")\n                    itemOut.append(\"<div class='results'></div>\")\n                    $(\"#displayList\").append(itemOut)\n            return\n        Utility.ajaxOptions.error = () ->\n            return\n        Utility.ajaxOptions.data = JSON.stringify(data)\n        $.ajax(Utility.ajaxOptions)"]],"start1":0,"start2":0,"length1":0,"length2":2681}]],"length":2681}
{"contributors":[],"silentsave":false,"ts":1349102682780,"patch":[[{"diffs":[[0,"em</a>\"\n"],[1,"                        itemLink = \"<div class='link_container'>\"\n                        itemLink += \"<a href='http://\" + item.link + \"' target='_BLANK'>Link To Item</a>\"\n                        itemLink += \"</div>\"\n"],[0,"        "]],"start1":1751,"start2":1751,"length1":16,"length2":233}]],"length":2898,"saved":false}
{"ts":1349102686337,"patch":[[{"diffs":[[0,"'http://\" + "],[1,"item."],[0,"item.link + "]],"start1":1870,"start2":1870,"length1":24,"length2":29}]],"length":2903,"saved":false}
{"ts":1349102690507,"patch":[[{"diffs":[[0,"ink\n"],[-1,"                        itemLink = \"<a href='http://\" + item.item.link + \"' target='_BLANK'>Link To Item</a>\"\n"],[0,"    "]],"start1":1645,"start2":1645,"length1":118,"length2":8}]],"length":2793,"saved":false}
{"ts":1349103149007,"patch":[[{"diffs":[[0,"sc'>"],[1,"Show Description</div><div class='item_data'>"],[0,"\"  +"],[1," "],[0,"item"]],"start1":1547,"start2":1547,"length1":12,"length2":58}]],"length":2811,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349464725018,"patch":[[{"diffs":[[0,"display\n"],[1,"        $(\"body\").on \"click\", \".jqShopping-link\", @addLink\n"],[0,"    crea"]],"start1":196,"start2":196,"length1":16,"length2":75},{"diffs":[[0,"tem."],[-1,"find('.shopping-list-item')."],[0,"text"]],"start1":1211,"start2":1211,"length1":36,"length2":8},{"diffs":[[0," $.ajax(Utility.ajaxOptions)"],[1,"\n    addLInk: () ->\n        "]],"start1":2842,"start2":2842,"length1":28,"length2":56}]],"length":2898,"saved":false}
{"ts":1349465007909,"patch":[[{"diffs":[[0,"    if response\n"],[1,"                $(\"#listId\").val(listId)\n"],[0,"                "]],"start1":1421,"start2":1421,"length1":32,"length2":73},{"diffs":[[0," addLInk: () ->\n        "],[1,"linkContainer = $(@).parent()\n        item = linkContainer.parent().parent()\n        link = linkContainer.find(\"a\").attr(\"href\")\n        itemId = item.find(\".itemId\").val()"]],"start1":2915,"start2":2915,"length1":24,"length2":196}]],"length":3111,"saved":false}
{"ts":1349465107515,"patch":[[{"diffs":[[0,"emId\").val()"],[1,"\n        listId = $(\"#listId\").val()"]],"start1":3099,"start2":3099,"length1":12,"length2":48}]],"length":3147,"saved":false}
{"ts":1349465127271,"patch":[[{"diffs":[[0,"\"#listId\").val()"],[1,"\n        data =\n            itemId: itemId\n            listId: listId"]],"start1":3131,"start2":3131,"length1":16,"length2":85}]],"length":3216,"saved":false}
{"ts":1349465164702,"patch":[[{"diffs":[[0,"    addL"],[-1,"I"],[1,"i"],[0,"nk: () -"]],"start1":2912,"start2":2912,"length1":17,"length2":17},{"diffs":[[0," itemId\n"],[-1,""],[0,"        "]],"start1":3182,"start2":3182,"length1":16,"length2":16},{"diffs":[[0,"d\n            listId: listId"],[1,"\n        Utility.ajaxOptions.url =\"/createlist\"\n        Utility.ajaxOptions.success = (response) ->\n            if response\n                \n            return\n        Utility.ajaxOptions.error = () ->\n            return\n        Utility.ajaxOptions.data = JSON.stringify(data)\n        $.ajax(Utility.ajaxOptions)"]],"start1":3188,"start2":3188,"length1":28,"length2":340}]],"length":3528,"saved":false}
{"ts":1349465185604,"patch":[[{"diffs":[[0,"ions.url =\"/"],[-1,"createlist"],[1,"addlistlink"],[0,"\"\n        Ut"]],"start1":3240,"start2":3240,"length1":34,"length2":35}]],"length":3529,"saved":false}
{"ts":1349465241712,"patch":[[{"diffs":[[0," listId: listId\n"],[1,"            link: link\n"],[0,"        Utility."]],"start1":3201,"start2":3201,"length1":32,"length2":55},{"diffs":[[0,"        "],[1,"item.find(\".item_desc\").after(\"<a href='http://\" + data.link + \"' target='_BLANK'>Link To Item</a>\")"],[0,"\n       "]],"start1":3372,"start2":3372,"length1":16,"length2":116}]],"length":3652,"saved":false}
{"ts":1349465263399,"patch":[[{"diffs":[[0,"+ data.link + \"'"],[1," class='shopping-list-link'"],[0," target='_BLANK'"]],"start1":3429,"start2":3429,"length1":32,"length2":59}]],"length":3679,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349471776701,"patch":[[{"diffs":[[0,"d + \"' />\")\n"],[1,"                    if item.friendLink\n                        itemOut.append(\"<a href='\" + item.friendLink + \"' target='_BLANK' class='shopping-list-link'>Link To Item(Your Selection)</a>\")\n"],[0,"            "]],"start1":2608,"start2":2608,"length1":24,"length2":215}]],"length":3870,"saved":false}
