{"ts":1349098844792,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"extends layout\r\n\r\nblock content\r\n    div#fb-root\r\n    script\r\n        // Load the SDK Asynchronously\r\n        (function(d){\r\n           var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];\r\n           if (d.getElementById(id)) {return;}\r\n           js = d.createElement('script'); js.id = id; js.async = true;\r\n           js.src = \"//connect.facebook.net/en_US/all.js\";\r\n           ref.parentNode.insertBefore(js, ref);\r\n         }(document));\r\n        window.fbAsyncInit = function() {\r\n          FB.init({\r\n            appId      : '368684593212563', // App ID\r\n            //channelUrl : 'holidayreminder.challetwoods.c9.io/channel.html', // Channel File (optional, should be added in production\r\n            status     : true, // check login status\r\n            cookie     : true, // enable cookies to allow the server to access the session\r\n            xfbml      : true  // parse XFBML\r\n          });\r\n        };\r\n    div.row-fluid.visible-phone\r\n        div.span12\r\n            h2 Menu\r\n            select#section\r\n                option(value='0') #{username} Wishlist\r\n                option(value='1') Friends\r\n                option(value='2') Shopping Lists\r\n    div.row-fluid\r\n        div#wishlistSection.span4.jqSection           \r\n            h2 #{username} Wishlist\r\n                span#addItemJump.circle +\r\n            ul#yourList.unstyled\r\n                each prop in myList\r\n                    li \r\n                        h3 #{prop.item.name}\r\n                        div.item_desc #{prop.item.desc}\r\n                        if prop.item.link\r\n                            a(href=prop.item.link, target='_BLANK') Link to Item\r\n                        input(type='button', value='Search Amazon', class='btn btn-small btnAmazon')\r\n                        input(type='button', value='Add To Shopping List', class='btn btn-small bntAddToList' )\r\n                        input(type='button', value='Find Locally', class='btn btn-small btnFindLocal' )\r\n                        input(type='hidden', class='itemId', value='#{prop._id}')\r\n                        div.results\r\n            \r\n            h2#addItemSection Add Item\r\n            label Name\r\n            input(type='text', id='itemName')\r\n            label Description\r\n            textarea#itemDesc\r\n            label Link *Optional\r\n            input(type='text', id='itemLink')\r\n            div\r\n                button#btnAddItem.btn.btn-success.btn-large Add\r\n        div#friendSection.span4.hidden-phone.jqSection\r\n            h2 Friends\r\n                span#findFriendJump.circle +\r\n            ul#friendList.unstyled\r\n                each friend in friendList\r\n                    li \r\n                        h3.jqFriend #{friend.friendName}\r\n                        input(type='hidden', class='friendId', value='#{friend._id}')\r\n            h2#findFriendSection Find Friend\r\n            label E-Mail\r\n            input(type='text', id='friendEmail')\r\n            div\r\n                button#btnFindFriend.btn.btn-success.btn-large Search\r\n            div#btnFindFb.facebook-f\r\n        div#shoppingListSection.span4.hidden-phone.jqSection\r\n            h2 My Created Lists\r\n                span#createListJump.circle +\r\n            ul#createdLists.unstyled\r\n                each shoppingList in shoppingLists\r\n                    li.shopping-list-item #{shoppingList.name}\r\n                        input(type='hidden', class='shopping-list-val', value='#{shoppingList._id}')                      \r\n            h2 Shopping List \r\n                span#displayListName\r\n            ul#displayList.unstyled\r\n            h2#createListSection Create a List\r\n            input(type='text', id='listName')\r\n            div\r\n                input(type='button', class='btn btn-large btn-success', id='btnCreateList', value='Create List')\r\n        ul#createdListsAdd.unstyled\r\n            each shoppingList in shoppingLists\r\n                li.shopping-list-item #{shoppingList.name}\r\n                    input(type='hidden', class='shopping-list-val', value='#{shoppingList._id}')\r\nblock scripts\r\n    script(src='/javascripts/dashboard.js')\r\n        "]],"start1":0,"start2":0,"length1":0,"length2":4146}]],"length":4146}
{"contributors":[],"silentsave":false,"ts":1349099200231,"patch":[[{"diffs":[[0,"em_desc "],[1,"\r\n                            p.item_data "],[0,"#{prop.i"]],"start1":1519,"start2":1519,"length1":16,"length2":58}]],"length":4188,"saved":false}
{"ts":1349099314946,"patch":[[{"diffs":[[0,"tem_desc"],[-1," "],[0,"\r\n      "]],"start1":1518,"start2":1518,"length1":17,"length2":16}]],"length":4187,"saved":false}
{"ts":1349099325340,"patch":[[{"diffs":[[0,"tem_desc"],[1," Show Description"],[0,"\r\n      "]],"start1":1518,"start2":1518,"length1":16,"length2":33}]],"length":4204,"saved":false}
{"ts":1349099661765,"patch":[[{"diffs":[[0,"        "],[-1,"    "],[0,"p.item_d"]],"start1":1561,"start2":1561,"length1":20,"length2":16}]],"length":4200,"saved":false}
{"ts":1349102348186,"patch":[[{"diffs":[[0,"m.link\r\n"],[1,"                            div\r\n    "],[0,"        "]],"start1":1635,"start2":1635,"length1":16,"length2":53}]],"length":4237,"saved":false}
{"ts":1349102534505,"patch":[[{"diffs":[[0,"             div"],[1,".link_container"],[0,"\r\n              "]],"start1":1658,"start2":1658,"length1":32,"length2":47}]],"length":4252,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349112922530,"patch":[[{"diffs":[[0,"    };\r\n"],[1,"    div.row-fluid\r\n        h1 Gifter\r\n"],[0,"    div."]],"start1":933,"start2":933,"length1":16,"length2":54}]],"length":4290,"saved":false}
{"ts":1349113161755,"patch":[[{"diffs":[[0,"      h1"],[1,".app_name"],[0," Gifter\r"]],"start1":962,"start2":962,"length1":16,"length2":25}]],"length":4299,"saved":false}
{"ts":1349113290964,"patch":[[{"diffs":[[0,"  h1.app"],[-1,"_"],[1,"-"],[0,"name Gif"]],"start1":966,"start2":966,"length1":17,"length2":17}]],"length":4299,"saved":false}
{"ts":1349114902854,"patch":[[{"diffs":[[0,"ame "],[-1,"Gifter"],[1,"Bestow This"],[0,"\r\n  "]],"start1":976,"start2":976,"length1":14,"length2":19}]],"length":4304,"saved":false}
{"ts":1349115988435,"patch":[[{"diffs":[[0,"        "],[-1,"span"],[1,"i"],[0,"#addItem"]],"start1":1364,"start2":1364,"length1":20,"length2":17},{"diffs":[[0,"addItemJump."],[-1,"circle +"],[1,"icon-plus"],[0,"\r\n          "]],"start1":1374,"start2":1374,"length1":32,"length2":33}]],"length":4302,"saved":false}
{"ts":1349116241886,"patch":[[{"diffs":[[0,"        "],[-1,"i"],[1,"span"],[0,"#addItem"]],"start1":1364,"start2":1364,"length1":17,"length2":20},{"diffs":[[0,"ump."],[-1,"icon-plus"],[1,"circle +"],[0,"\r\n  "]],"start1":1385,"start2":1385,"length1":17,"length2":16}]],"length":4304,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349231130477,"patch":[[{"diffs":[[0,"ame "],[-1,"Bestow Th"],[1,"The Gift L"],[0,"is"],[1,"t"],[0,"\r\n  "]],"start1":976,"start2":976,"length1":19,"length2":21}]],"length":4306,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349464976119,"patch":[[{"diffs":[[0,"id='list"],[-1,"Name"],[1,"Id"],[0,"')\r\n    "]],"start1":3848,"start2":3848,"length1":20,"length2":18}]],"length":4304,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349466944136,"patch":[[{"diffs":[[0,"='listId')\r\n"],[1,"            input(type='text', id='listName')\r\n"],[0,"            "]],"start1":3850,"start2":3850,"length1":24,"length2":71}]],"length":4351,"saved":false}
{"ts":1349466993672,"patch":[[{"diffs":[[0,"    input(type='"],[-1,"text"],[1,"hidden"],[0,"', id='listId')\r"]],"start1":3825,"start2":3825,"length1":36,"length2":38}]],"length":4353,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349639234906,"patch":[[{"diffs":[[0,"       });\r\n"],[1,"        FB.Event.subscribe('auth.statusChange', function(response) {\r\n              if (response.authResponse) {\r\n                // user has auth'd your app and is logged into Facebook\r\n                FB.api('/me', function(me){\r\n                  if (me) {\r\n                    var username = me.name;\r\n                    var email = me.email;\r\n                    var password = 'fb_user';\r\n                    var data = {\r\n                        username: username,\r\n                        password: password,\r\n                        email: email\r\n                    };\r\n\r\n                    FB.api('/me/friends', function(friends){\r\n                        if(friends){\r\n                            data.friends = friends.data;\r\n                            $.ajax({\r\n                                url: '/fbsignin',\r\n                                type: 'POST',\r\n                                contentType: 'application/json',\r\n                                dataType: 'json',\r\n                                data: JSON.stringify(data),\r\n                                success: function(response){\r\n                                    window.location.href = '/dashboard';\r\n                                },\r\n                                error: function(response){\r\n                                    \r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                    \r\n                  }\r\n                });\r\n                \r\n              } else {\r\n                // user has not auth'd your app, or is not logged into Facebook\r\n                \r\n              }\r\n          });\r\n\r\n\r\n"],[0,"        };\r\n"]],"start1":917,"start2":917,"length1":24,"length2":1711}]],"length":6040,"saved":false}
{"ts":1349639762021,"patch":[[{"diffs":[[0,"        "],[-1,""],[0,""],[1,"    "],[0,"FB.Event"]],"start1":929,"start2":929,"length1":16,"length2":20},{"diffs":[[0,"                "],[1,"//"],[0,"FB.api('/me', fu"]],"start1":1120,"start2":1120,"length1":32,"length2":34},{"diffs":[[0,"            "],[1,"//"],[0,"if (me) {\r\n "]],"start1":1173,"start2":1173,"length1":24,"length2":26},{"diffs":[[0,"            "],[1,"//"],[0,"var username"]],"start1":1206,"start2":1206,"length1":24,"length2":26},{"diffs":[[0,"            "],[1,"//"],[0,"var email = "]],"start1":1253,"start2":1253,"length1":24,"length2":26},{"diffs":[[0,"            "],[1,"//"],[0,"var password"]],"start1":1298,"start2":1298,"length1":24,"length2":26},{"diffs":[[0,"            "],[1,"//"],[0,"var data = {"]],"start1":1347,"start2":1347,"length1":24,"length2":26},{"diffs":[[0,"            "],[1,"//"],[0,"    username"]],"start1":1383,"start2":1383,"length1":24,"length2":26},{"diffs":[[0,"            "],[1,"//"],[0,"    password"]],"start1":1430,"start2":1430,"length1":24,"length2":26},{"diffs":[[0,"            "],[1,"//"],[0,"    email: e"]],"start1":1477,"start2":1477,"length1":24,"length2":26},{"diffs":[[0,"            "],[1,"//"],[0,"};\r\n\r\n      "]],"start1":1517,"start2":1517,"length1":24,"length2":26},{"diffs":[[0,"        "],[-1," "],[-1,"   "],[0,"FB.api('"]],"start1":1545,"start2":1545,"length1":20,"length2":16},{"diffs":[[0,"tion(friends){\r\n"],[-1,"    "],[0,"                "]],"start1":1579,"start2":1579,"length1":36,"length2":32},{"diffs":[[0,"            "],[-1,"    "],[0,"data.friends"]],"start1":1641,"start2":1641,"length1":28,"length2":24},{"diffs":[[0,".data;\r\n"],[-1,"    "],[0,"        "]],"start1":1675,"start2":1675,"length1":20,"length2":16},{"diffs":[[0,"        "],[-1,"    "],[0,"url: '/f"]],"start1":1737,"start2":1737,"length1":20,"length2":16},{"diffs":[[0,"'/fb"],[-1,"signin"],[1,"friendcheck"],[0,"',\r\n"]],"start1":1750,"start2":1750,"length1":14,"length2":19},{"diffs":[[0,"        "],[-1,"   "],[-1," "],[0,"type: 'P"]],"start1":1789,"start2":1789,"length1":20,"length2":16},{"diffs":[[0,"e: 'POST',\r\n"],[-1,"    "],[0,"            "]],"start1":1800,"start2":1800,"length1":28,"length2":24},{"diffs":[[0,"            "],[-1,"  "],[-1,"  "],[0,"dataType: 'j"]],"start1":1890,"start2":1890,"length1":28,"length2":24},{"diffs":[[0,"aType: 'json',\r\n"],[-1,"    "],[0,"                "]],"start1":1905,"start2":1905,"length1":36,"length2":32},{"diffs":[[0,"        "],[-1," "],[-1,"   "],[0,"success:"]],"start1":1998,"start2":1998,"length1":20,"length2":16},{"diffs":[[0,"            "],[-1,"    "],[1,"//"],[0,"window.locat"]],"start1":2056,"start2":2056,"length1":28,"length2":26},{"diffs":[[0,"        "],[-1,"    "],[0,"},\r\n    "]],"start1":2128,"start2":2128,"length1":20,"length2":16},{"diffs":[[0,"        "],[-1," "],[-1,"   "],[0,"error: f"]],"start1":2160,"start2":2160,"length1":20,"length2":16},{"diffs":[[0,"                "],[-1,"    "],[0,"\r\n              "]],"start1":2212,"start2":2212,"length1":36,"length2":32},{"diffs":[[0,"            "],[-1,"    }\r\n   "],[1,"}\r\n"],[0,"            "]],"start1":2246,"start2":2246,"length1":34,"length2":27},{"diffs":[[0,"                "],[-1," "],[0,"});\r\n           "]],"start1":2269,"start2":2269,"length1":33,"length2":32},{"diffs":[[0,"            "],[-1,"    }\r\n    "],[1,"}\r\n"],[0,"            "]],"start1":2298,"start2":2298,"length1":35,"length2":27},{"diffs":[[0,"                "],[1,"//"],[0,"}\r\n             "]],"start1":2358,"start2":2358,"length1":32,"length2":34},{"diffs":[[0,"                "],[1,"//"],[0,"});\r\n           "]],"start1":2379,"start2":2379,"length1":32,"length2":34}]],"length":6003,"saved":false}
{"ts":1349639784996,"patch":[[{"diffs":[[0,"fbfriend"],[-1,"check"],[1,"list"],[0,"',\r\n    "]],"start1":1752,"start2":1752,"length1":21,"length2":20}]],"length":6002,"saved":false}
{"ts":1349640254248,"patch":[[{"diffs":[[0,"ashboard';\r\n"],[1,"                                if(response){\r\n                                    for(var i in response){\r\n                                        var user = response[i];\r\n                                        var output = $(\"<li>\");\r\n                                        output.append(\"<h3 class='jqFriend'></h3>\");\r\n                                        output.append(\"<input type='hidden' class='friendId' value='\"+ user._id + \"' />\")\r\n                                    }\r\n                                }\r\n"],[0,"            "]],"start1":2095,"start2":2095,"length1":24,"length2":545}]],"length":6523,"saved":false}
{"ts":1349640255930,"patch":[[{"diffs":[[0," \"' />\")"],[1,";"],[0,"\r\n      "]],"start1":2544,"start2":2544,"length1":16,"length2":17}]],"length":6524,"saved":false}
{"ts":1349640394710,"patch":[[{"diffs":[[0,"+ \"' />\");\r\n"],[1,"                                        $(\"#friendList\").append(output)\r\n"],[0,"            "]],"start1":2543,"start2":2543,"length1":24,"length2":97}]],"length":6597,"saved":false}
{"ts":1349640414945,"patch":[[{"diffs":[[0,"ashboard';\r\n"],[1,"                                var user, output;\r\n"],[0,"            "]],"start1":2095,"start2":2095,"length1":24,"length2":75},{"diffs":[[0,"        "],[-1,"var user"],[0," = respo"]],"start1":2298,"start2":2298,"length1":24,"length2":16}]],"length":6640,"saved":false}
{"ts":1349640449198,"patch":[[{"diffs":[[0,"        "],[1,"user"],[0," = respo"]],"start1":2298,"start2":2298,"length1":16,"length2":20},{"diffs":[[0,"        "],[-1,"var "],[0,"output ="]],"start1":2359,"start2":2359,"length1":20,"length2":16}]],"length":6640,"saved":false}
{"ts":1349640600688,"patch":[[{"diffs":[[0,"\"+ user."],[-1,"_i"],[1,"matchI"],[0,"d + \"' /"]],"start1":2574,"start2":2574,"length1":18,"length2":22}]],"length":6644,"saved":false}
{"ts":1349640744629,"patch":[[{"diffs":[[0,"'></h3>\");\r\n"],[1,"                                        output.append(\"<input type='button' class='btn btn-small btnAddFbFriend' />\")\r\n"],[0,"            "]],"start1":2462,"start2":2462,"length1":24,"length2":143}]],"length":6763,"saved":false}
{"ts":1349641758684,"patch":[[{"diffs":[[0," div"],[-1,"#btnFindFb.facebook-f"],[1,"(class='fb-login-button', scope='email')"],[0,"\r\n  "]],"start1":5627,"start2":5627,"length1":29,"length2":48}]],"length":6782,"saved":false}
{"ts":1349642063582,"patch":[[{"diffs":[[0,"tion(friends){\r\n"],[1,"                    var data;\r\n"],[0,"                "]],"start1":1579,"start2":1579,"length1":32,"length2":63}]],"length":6813,"saved":false}
{"ts":1349642167826,"patch":[[{"diffs":[[0,"uthResponse) {\r\n"],[1,"                $(\".fb-login-button\").hide();\r\n"],[0,"                "]],"start1":1031,"start2":1031,"length1":32,"length2":79}]],"length":6860,"saved":false}
{"ts":1349642245368,"patch":[[{"diffs":[[0," {\r\n"],[-1,"                $(\".fb-login-button\").hide();\r\n"],[0,"    "]],"start1":1043,"start2":1043,"length1":55,"length2":8}]],"length":6813,"saved":false}
{"ts":1349642273785,"patch":[[{"diffs":[[0,"){\r\n"],[-1,"                    var data;\r\n"],[0,"    "]],"start1":1591,"start2":1591,"length1":39,"length2":8}]],"length":6782,"saved":false}
{"ts":1349642296577,"patch":[[{"diffs":[[0,"uthResponse) {\r\n"],[1,"                $(\".fb-login-button\").hide();\r\n"],[0,"                "]],"start1":1031,"start2":1031,"length1":32,"length2":79},{"diffs":[[0,"tion(friends){\r\n"],[1,"                    var data;\r\n"],[0,"                "]],"start1":1626,"start2":1626,"length1":32,"length2":63}]],"length":6860,"saved":false}
{"ts":1349642565731,"patch":[[{"diffs":[[0,"    var data"],[1," = {\r\n                        \r\n                    }"],[0,";\r\n         "]],"start1":1658,"start2":1658,"length1":24,"length2":77}]],"length":6913,"saved":false}
{"ts":1349642574885,"patch":[[{"diffs":[[0," = {"],[-1,"\r\n                        \r\n                    "],[0,"};\r\n"]],"start1":1670,"start2":1670,"length1":56,"length2":8}]],"length":6865,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349899708677,"patch":[[{"diffs":[[0,"  if(friends){\r\n"],[1,"                        var friendData = friends.data;\r\n                        for(var friend in friends.data){\r\n                            data.friends.push(friends\r\n                        }\r\n"],[0,"                "]],"start1":1696,"start2":1696,"length1":32,"length2":228}]],"length":7061,"saved":false}
{"ts":1349899742814,"patch":[[{"diffs":[[0,"n friend"],[-1,"s.d"],[1,"D"],[0,"ata){\r\n "]],"start1":1808,"start2":1808,"length1":19,"length2":17}]],"length":7059,"saved":false}
{"ts":1349899780759,"patch":[[{"diffs":[[0," friends.data;\r\n"],[1,"                        data.friends = [];\r\n"],[0,"                "]],"start1":1752,"start2":1752,"length1":32,"length2":76},{"diffs":[[0,".push(friend"],[-1,"s"],[1,"Data[friend].id;"],[0,"\r\n          "]],"start1":1908,"start2":1908,"length1":25,"length2":40}]],"length":7118,"saved":false}
{"ts":1349899790816,"patch":[[{"diffs":[[0,"iend].id"],[1,")"],[0,";\r\n     "]],"start1":1927,"start2":1927,"length1":16,"length2":17}]],"length":7119,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349900902438,"patch":[[{"diffs":[[0," }\r\n"],[-1,"                        data.friends = friends.data;\r\n"],[0,"    "]],"start1":1962,"start2":1962,"length1":62,"length2":8},{"diffs":[[0,"Friend' "],[1,"value='Add Friend List'"],[0,"/>\")\r\n  "]],"start1":2862,"start2":2862,"length1":16,"length2":39}]],"length":7088,"saved":false}
{"ts":1349900934562,"patch":[[{"diffs":[[0,"Friend'>"],[1,"\" + user.username + \""],[0,"</h3>\");"]],"start1":2739,"start2":2739,"length1":16,"length2":37}]],"length":7109,"saved":false}
{"ts":1349901007555,"patch":[[{"diffs":[[0," + user."],[-1,"user"],[0,"name + \""]],"start1":2748,"start2":2748,"length1":20,"length2":16}]],"length":7105,"saved":false}
{"ts":1349901766347,"patch":[[{"diffs":[[0,"ass='jqF"],[1,"bF"],[0,"riend'>\""]],"start1":2732,"start2":2732,"length1":16,"length2":18}]],"length":7107,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352497653324,"patch":[[{"diffs":[[0,"ch\r\n"],[-1,"            div(class='fb-login-button', scope='email')\r\n"],[0,"    "]],"start1":5937,"start2":5937,"length1":65,"length2":8}]],"length":7050,"saved":false}
