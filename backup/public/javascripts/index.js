// Generated by CoffeeScript 1.3.3
(function() {
  var FriendCheck, Register, SignIn, Utility, reg, sign,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  Utility = (function() {

    function Utility() {}

    Utility.ajaxOptions = {
      url: "/",
      type: "POST",
      dataType: "json",
      contentType: "application/json; charset=UTF-8",
      success: function() {},
      error: function() {}
    };

    return Utility;

  })();

  SignIn = (function() {

    function SignIn() {
      this.error = __bind(this.error, this);

      this.success = __bind(this.success, this);

      this.submit = __bind(this.submit, this);
      this.userName = $("#userName");
      this.passWord = $("#passWord");
      this.btnSignIn = $("#btnSignIn");
      this.signInErr = $("#signInErr");
      this.btnSignIn.on("click", this.submit);
    }

    SignIn.prototype.submit = function() {
      var data;
      this.signInErr.hide();
      data = {
        username: this.userName.val(),
        password: this.passWord.val()
      };
      Utility.ajaxOptions.url = "/signin";
      Utility.ajaxOptions.success = this.success;
      Utility.ajaxOptions.error = this.error;
      Utility.ajaxOptions.data = JSON.stringify(data);
      $.ajax(Utility.ajaxOptions);
    };

    SignIn.prototype.success = function() {
      window.location.href = "/dashboard";
    };

    SignIn.prototype.error = function() {
      this.signInErr.show();
    };

    return SignIn;

  })();

  sign = new SignIn();

  Register = (function() {

    function Register() {
      this.error = __bind(this.error, this);

      this.success = __bind(this.success, this);

      this.checkPass = __bind(this.checkPass, this);

      this.submit = __bind(this.submit, this);
      this.regName = $("#regName");
      this.regEmail = $("#regEmail");
      this.regPass = $("#regPass");
      this.regConfirm = $("#regConfirm");
      this.btnRegister = $("#btnRegister");
      this.passErr = $("#passErr");
      this.regErr = $("#regErr");
      this.btnRegister.on("click", this.submit);
      this.regConfirm.on("keyup", this.checkPass);
    }

    Register.prototype.submit = function() {
      var data;
      this.regErr.hide();
      data = {
        name: this.regName.val(),
        email: this.regEmail.val(),
        pass: this.regPass.val()
      };
      Utility.ajaxOptions.url = "/register";
      Utility.ajaxOptions.success = this.success;
      Utility.ajaxOptions.error = this.error;
      Utility.ajaxOptions.data = JSON.stringify(data);
      $.ajax(Utility.ajaxOptions);
    };

    Register.prototype.checkPass = function() {
      var confirm, pass;
      pass = this.regPass.val();
      confirm = this.regConfirm.val();
      if (pass === confirm) {
        this.passErr.hide();
        return;
      } else {
        this.passErr.show();
      }
    };

    Register.prototype.success = function() {
      return window.location.href = "/dashboard";
    };

    Register.prototype.error = function() {
      return this.regErr.show();
    };

    return Register;

  })();

  reg = new Register();

  FriendCheck = (function() {

    function FriendCheck() {
      this.error = __bind(this.error, this);

      this.success = __bind(this.success, this);

      this.submit = __bind(this.submit, this);
      this.email = $("#email");
      this.btnCheckFriends = $("#btnCheckFriends");
      this.btnCheckFriends.on("click", this.submit);
    }

    FriendCheck.prototype.submit = function() {
      var data;
      data = {
        email: this.email.val()
      };
    };

    FriendCheck.prototype.success = function() {
      window.location.href = "/friendlist";
    };

    FriendCheck.prototype.error = function() {};

    return FriendCheck;

  })();

}).call(this);
